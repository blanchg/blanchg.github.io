<html>
  <head>
    <title>Sample Bookmarklet</title>
  </head>
  <body>
<a href='(!function(){function e(e,n){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){r&&(e=r);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,d=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return d=e.done,e},e:function(e){s=!0,o=e},f:function(){try{d||null==r.return||r.return()}finally{if(s)throw o}}}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}if(!window.adgile){window.adgile=window.adgile||{};var n=window.adgile;n.ui=function(e){var t=document.getElementById("adgile-ui"),r=!1;t||((t=document.createElement("div")).id="adgile-ui",document.body.appendChild(t),r=!0);var a=document.createElement("div");a.style.cssText="position: fixed; right:10px; bottom:10px; z-index:1000; border: 1px solid #aaa; border-radius: 3px; user-select: none";var i=\'<div style="padding: 5px 10px; background-color:#111; border-radius: 3px 3px 0 0;"><img width="50" src="https://cdn.adgile.media/Resources/images/ie-logo-white.png"></div><div style="background-color: #333; padding: 5px 10px; border-radius: 0 0 3px 3px; color: #fff">\';if(e)a.insertAdjacentHTML("beforeend",i.concat(e,"</div>"));else{var o=n.getAdData(),d=n.getTracking(),s=d.oztam&&d.oztam.sessionId||d.swm&&d.swm.sessionId||d.bc&&d.bc.sessionId;a.insertAdjacentHTML("beforeend",i.concat("Id: ").concat(o.id,"-").concat(o.creative,"<br>\nAd: ").concat(o.pib+1,"/").concat(o.nib,"<br>Adbreak: ").concat(o.bip,"<br>").concat(o.duration,"s ").concat(o.width,"x").concat(o.height,"<br>Session: ").concat(s,\'<br><a target="_blank" href="\').concat(o.mediaURL,\'" style="color:#bbb">Raw Ad</a><br></div>\'))}t.firstChild?t.firstChild.replaceWith(a):(t.appendChild(a),r&&t.addEventListener("click",(function(e){"a"!=e.target.tagName.toLowerCase()&&t.firstChild.remove()}),{passive:!0,once:!1,capture:!1}))},n.getAdData=function(e){if(e||(e=n.adsManager.getCurrentAd()),!e)return{};var t=e.getAdPodInfo();return{id:e.getAdId(),pib:t?t.getAdPosition()-1:null,nib:t?t.getTotalAds():null,bip:t?t.getPodIndex():null,creative:e.getCreativeAdId()||e.getCreativeId(),title:e.getTitle(),mediaURL:n.getAdSrc()||e.getMediaUrl(),width:e.getWidth()||e.getVastMediaWidth(),height:e.getHeight()||e.getVastMediaHeight(),duration:e.getDuration(),universalIds:e.getUniversalAdIds()}},n.getAdSrc=function(){var t,n=[],r=e(document.getElementsByTagName("video"));try{for(r.s();!(t=r.n()).done;){var a=t.value;null!=a.src&&0!=a.src.length&&n.push(a)}}catch(e){r.e(e)}finally{r.f()}return n.length?n[n.length-1].src:null},n.getTracking=function(){var e={};if(n.player.oztamVodTracking){var t=n.player.oztamVodTracking();e.oztam=t.oztamTracker.oztam.properties}return n.player.nielsen&&(t=n.player.nielsen(),e.nielsen=t.contentMetadata),n.player.swmOptions&&(t=n.player.swmOptions,e.swm={sessionId:t.playerVideoSessionId,deviceId:t.deviceId,postcode:t.postcode,os:t.deviceOs,videoId:t.episodePlayerId,title:t.seriesTitle+" "+t.title}),n.player.bcAnalytics&&(t=n.player.bcAnalytics,e.bc={sessionId:t.client.defaultParams_.session,accountId:t.settings.accountId}),n.player.mediainfo&&(t=n.player.mediainfo,e.mediaInfo={description:t.description,duration:t.duration,id:t.id,name:t.name,poster:t.poster,referenceId:t.referenceId,thumbnail:t.thumbnail}),e},n.onAdManager=function(){n.ui("Detected Video Playing"),n.adsManager=n.player.ima3.adsManager,n.adsManager.addEventListener(google.ima.AdEvent.Type.IMPRESSION,(function(){n.ui()})),n.adsManager.getCurrentAd()&&n.ui()},n.retrycount=0,n.register=function(){n.retrycount++,window.videojs?(n.player=window.videojs.getAllPlayers()[0],n.player&&n.player.ima3&&n.player.ima3.adsLoader?n.player.ima3.adsManager?n.onAdManager():n.player.ima3.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,n.onAdManager,!1):n.retrycount<100&&setTimeout(n.register,100)):n.retrycount<50&&setTimeout(n.register,100)},n.ui("Installed"),n.register()}})();'>Adgile VOD</a>
</body>
</html>
